(()=>{"use strict";function e(e,t){let n=e.getAttribute("style");if(e.classList.contains("transitioning")||"height: auto"===n)return;e.classList.add("transitioning");const o=e.clientHeight;e.style.height="auto";const a=e.scrollHeight+"px";e.style.height=o+"px",e.offsetHeight,e.style.height=a;const s=()=>{e.style.height="auto",e.classList.remove("transitioning"),e.removeEventListener("transitionend",s),"function"==typeof t&&t.call(e)};e.addEventListener("transitionend",s),setTimeout((()=>{e.classList.contains("transitioning")&&(e.style.height="auto",e.classList.remove("transitioning"))}),500)}function t(e){if(e.classList.contains("transitioning"))return;e.classList.add("transitioning");const t=e.clientHeight+"px";e.style.height=t,e.offsetHeight,requestAnimationFrame((()=>{e.style.height="0"}));const n=()=>{e.removeAttribute("style"),e.classList.remove("transitioning"),e.removeEventListener("transitionend",n)};e.addEventListener("transitionend",n),setTimeout((()=>{e.classList.contains("transitioning")&&(e.removeAttribute("style"),e.classList.remove("transitioning"))}),500)}function n(n){const o=n.target.closest(".desc-title");if(!o)return;const a=o.closest(".card-box"),s=o.nextElementSibling,r="true"===o.getAttribute("aria-expanded");a.querySelectorAll(".desc-title").forEach((e=>{if(e!==o){e.setAttribute("aria-expanded","false");const n=e.nextElementSibling;n&&t(n)}})),o.setAttribute("aria-expanded",!r),r?t(s):e(s);const i=o.dataset.weaponNumber,c=o.dataset.upgradeNumber,l=a.querySelector(".image-carousel"),d=l.querySelector(`.carousel-item[data-weapon-number="${i}"][data-upgrade-number="${c}"]`);if(d){const e=d.offsetLeft-l.offsetWidth/2+d.offsetWidth/2;l.scrollTo({left:e,behavior:"smooth"})}}function o(n){if(n.target.closest(".location-button")){const o=n.target.closest(".location-button"),a=o.nextElementSibling,s=o.getAttribute("aria-expanded");"false"===s?(o.setAttribute("aria-expanded","true"),e(a)):"true"===s&&(o.setAttribute("aria-expanded","false"),t(a)),"false"===o.getAttribute("aria-expanded")&&"height: 0px;"!==a.getAttribute("style")&&(o.setAttribute("aria-expanded","false"),a.removeAttribute("style"),console.error("Location text not collapsed"))}}function a(n){const o=n.currentTarget.nextElementSibling;o.classList.contains("show")?(t(o),o.classList.remove("show"),o.style.height&&(o.style.height="")):(document.querySelectorAll(".show").forEach((e=>{e!==o&&(t(e),e.classList.remove("show"))})),o.classList.add("show"),e(o))}const{computePosition:s,flip:r,offset:i,shift:c,autoUpdate:l}=window.FloatingUIDOM;let d=null,u=!1;function m(){document.querySelectorAll(".get-popped").forEach((e=>{!function(e){let t,n;const o=document.getElementById("popoverElement");let a=!1;window.addEventListener("touchstart",(()=>{a=!0}),{passive:!0});const m=()=>{clearTimeout(t),clearTimeout(n),function(e,t){if(!t)return;const n=e.getAttribute("data-popSide")||"top";l(e,t,(()=>{s(e,t,{placement:n,middleware:[i(8),c({mainAxis:!0}),r()]}).then((({x:e,y:n})=>{Object.assign(t.style,{left:`${e}px`,top:`${n}px`})})).catch((e=>{console.error("Error computing position:",e)}))}))}(e,o),function(e,t,n){const o=t.getAttribute("data-popInfo"),a=t.getAttribute("data-popCard");e.innerHTML="",o?!1===n?(e.textContent=o,g(e)):e.style.visibility="hidden":a?(e.style.visibility="visible",d?p(a,e).then((t=>{e.innerHTML=t,g(e)})):fetch("./Assets/js/generationData.json").then((e=>{if(!e.ok)throw new Error("Failed to fetch JSON data.");return e.json()})).then((t=>(d=t,p(a,e)))).then((t=>{e.innerHTML=t,g(e)})).catch((e=>console.error(e.message)))):a&&o&&console.error("Both 'data-popCard' and 'data-popInfo' attributes are present on element:",t)}(o,e,a)},h=()=>{const t=a?"0":"500";e.getAttribute("data-popCard")?n=setTimeout((()=>{f(o),u=!1}),t):(f(o),u=!1)},y=t=>{!u||e.contains(t.target)||o.contains(t.target)||(u=!1,h())};window.addEventListener("mousedown",y),window.addEventListener("touchend",y),["mouseenter","mouseleave","focus","blur","touchend"].forEach((o=>{e.addEventListener(o,(e=>{a?"touchend"!==o||u||(m(),u=!0):"mouseleave"===o||"blur"===o?(clearTimeout(t),h()):"mouseenter"!==o&&"focus"!==o||(clearTimeout(n),t=setTimeout(m,500))}))})),o.addEventListener("mouseenter",(()=>{clearTimeout(n)})),o.addEventListener("mouseleave",h)}(e)}))}function g(e){e.style.display="",e.classList.remove("hide"),e.classList.add("show")}function p(e,t){const[n,o]=e.split(","),a=e.split(".")[0];let s="";switch(a){case"Items":s="#itemsPage";break;case"Enemies":s="#enemiesPage";break;case"StatsPage":s="#statsPage";break;case"NPCs":s="#npcsPage";break;case"gadgetLocations":s="#locationsPage";break;default:console.error(`Invalid pageNav: ${a}`)}if(!e||!d)return Promise.resolve("");const r=function(e,t,n){const o=t.split(".");let a=e;for(const e of o)if(Array.isArray(a)){if(a=a[0],!a||"object"!=typeof a)return console.error(`Level ${e} not found in JSON data.`),null;a=a[e]}else{if("object"!=typeof a||null===a)return console.error("Current level is neither an array nor an object:",a),null;if(a=a[e],!a)return console.error(`Level ${e} not found in JSON data.`),null}if(Array.isArray(a)){const e=a.find((e=>e.title===n));return e||(console.error("Item with title not found:",n),null)}return console.error("Final level is not an array, cannot search for item."),null}(d,n,o);return r?function(e,t){return new Promise((n=>{const o=e.title.split(" ").join("").replace("'","").replace("-",""),a=new Image;a.src=e.imageSrc,a.onload=function(){let s;s=a.width>250?"large":"";const r=`\n\t\t\t\t<button class="card-pop-wrapper pageNav" data-href="${t}" data-ItemId="${o}">\n\t\t\t\t\t<h3>${e.title}</h3>\n\t\t\t\t\t<img src="${e.imageSrc}" alt="${e.title}" class="${s}" />\n\t\t\t\t\t<p>${e.description}</p>\t\n\t\t\t\t</button>\n\t\t\t`;n(r)},a.onerror=function(){console.error("Failed to load image:",e.imageSrc),n(`\n\t\t\t\t<button class="card-pop-wrapper pageNav" data-href="">\n\t\t\t\t\t<h3>${e.title}</h3>\n\t\t\t\t\t<p>${e.description}</p>\t\n\t\t\t\t\t<p><em>Image could not be loaded.</em></p>\n\t\t\t\t</button>\n\t\t\t`)}}))}(r,s):Promise.resolve("Item not found")}function f(e){e.classList.remove("show"),e.classList.add("hide"),e.style.display="none"}function h(e){e.insertAdjacentHTML("beforeend",'        \n            <div class="scroll-button-container">\n                <button title="Scroll to top" class="scroll-button" id="scroll-btn">\n                    <i class=\'bx bx-up-arrow-alt\' alt=""></i>\n                    <svg width="50" height="50" viewBox="0 0 36 36">\n                        <circle id="progress-circle" cx="18" cy="18" r="16" />\n                    </svg>\n                </button>\n            </div>\n            '),function(){const e=document.getElementById("scroll-btn"),t=document.getElementById("progress-circle"),n=t.getAttribute("r"),o=2*Math.PI*n;t.style.strokeDasharray=o,t.style.strokeDashoffset=o,window.addEventListener("scroll",(function(){const n=window.scrollY,a=document.documentElement.scrollHeight,s=window.innerHeight,r=o-n/(a-s)*100/100*o;t.style.strokeDashoffset=r,n>250?(e.style.opacity="1",e.style.cursor="pointer",e.style.pointerEvents="auto"):(e.style.opacity="0",e.style.cursor="unset",e.style.pointerEvents="none")})),e.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})}))}()}function y(e,s){document.querySelector(".nav-toggle").setAttribute("aria-expanded","false");const r=localStorage.getItem("color-primary-rgb-values");if(r&&document.documentElement.style.setProperty("--color-primary-rgb-values",r),window.innerWidth<=768){let e=document.querySelector(".nav-list"),n=document.querySelector(".nav-dropdown");t(e),t(n),document.querySelector(".nav-list").setAttribute("aria-expanded","false"),document.querySelector(".nav-dropdown").setAttribute("aria-expanded","false"),document.getElementById("wiki-list-dropdown").setAttribute("aria-expanded","false")}else document.querySelector(".nav-dropdown").style.height="0",document.querySelector(".nav-dropdown").setAttribute("aria-expanded","false"),document.getElementById("wiki-list-dropdown").setAttribute("aria-expanded","false");!function(e,t){let s,r;switch(e){case"locationsPage":s="Locations.gen",r="Locations";break;case"npcsPage":s="NPCs.gen",r="NPCs";break;case"enemiesPage":s="Enemies.gen",r="Enemies";break;case"aspSpellcastingPage":s="Spellcasting",r="Spell Casting";break;case"itemsPage":s="Items.gen",r="Items";break;case"statsPage":s="StatsPage.gen",r="Stats and Leveling Up";break;case"newMechanicsPage":s="NewMechanics",r="New Mechanics";break;case"faqPage":s="FAQ",r="FAQ";break;case"gettingStartedPage":s="GettingStarted",r="Getting Started";break;case"aboutPage":s="About",r="About Us";break;default:s="index",r="Home"}fetch(`OtherPages/${s}.html`).then((e=>e.text())).then((s=>{const i=document.querySelector(".content-section");i.innerHTML=s,document.title=r+" | Dangerous to go Alone Wiki | Mod for BOTW",function(e){const t=document.querySelector(".indicator"),n=document.querySelectorAll(".nav-item button"),o=document.getElementById("wiki-list-dropdown"),a=["newMechanicsPage","itemsPage","aspSpellcastingPage","enemiesPage","npcsPage","locationsPage","statsPage"];function s(e){const n=e.getBoundingClientRect().left+window.scrollX,o=e.offsetWidth;t.style.left=`${n}px`,t.style.width=`${o}px`}let r=Array.from(n).find((t=>t.getAttribute("data-href")===`#${e}`));!r&&a.includes(e)&&(r=o);r&&(s(r),n.forEach((e=>{e.classList.remove("active"),e.removeAttribute("aria-current")})),r.classList.add("active"),r.setAttribute("aria-current","page"))}(e),function(e){const t=document.querySelector(".homepageBg"),n=document.querySelector(".site-footer"),o=document.querySelector("nav");"homePage"===e?(!async function(){await loadBasic(tsParticles);const e={autoPlay:!0,clear:!0,defaultThemes:{},delay:0,fullScreen:{enable:!0,zIndex:0},detectRetina:!0,duration:0,fpsLimit:120,particles:{bounce:{horizontal:{value:1},vertical:{value:1}},collisions:{absorb:{speed:2},bounce:{horizontal:{value:1},vertical:{value:1}},enable:!1,maxSpeed:50,mode:"bounce",overlap:{enable:!0,retries:0}},color:{value:`rgb(${localStorage.getItem("color-primary-rgb-values")||"133, 255, 225"})`,animation:{h:{count:0,enable:!1,speed:1,decay:0,delay:0,sync:!0,offset:0},s:{count:0,enable:!1,speed:1,decay:0,delay:0,sync:!0,offset:0},l:{count:0,enable:!1,speed:1,decay:0,delay:0,sync:!0,offset:0}}},effect:{close:!0,fill:!0},move:{angle:{offset:0,value:90},attract:{distance:200,enable:!1,rotate:{x:3e3,y:3e3}},center:{x:50,y:50,mode:"percent",radius:0},decay:0,distance:{},direction:"none",drift:0,enable:!0,gravity:{acceleration:9.81,enable:!1,inverse:!1,maxSpeed:50},path:{clamp:!0,delay:{value:0},enable:!1,options:{}},outModes:{default:"out"},random:!1,size:!1,speed:{min:.1,max:1},spin:{acceleration:0,enable:!1},straight:!1,trail:{enable:!1,length:10,fill:{}},vibrate:!1,warp:!1},number:{density:{enable:!0,width:1920,height:1080},limit:{mode:"delete",value:0},value:250},opacity:{value:{min:.1,max:1},animation:{count:0,enable:!0,speed:1,decay:0,delay:0,sync:!1,mode:"auto",startValue:"random",destroy:"none"}},reduceDuplicates:!1,shape:{close:!0,fill:!0,options:{},type:"circle"},size:{value:{min:2,max:3},animation:{count:0,enable:!0,speed:1,decay:0,delay:0,sync:!1,mode:"auto",startValue:"random",destroy:"none"}},zIndex:{value:0,opacityRate:1,sizeRate:1,velocityRate:1},destroy:{bounds:{},mode:"none",split:{count:1,factor:{value:3},rate:{value:{min:4,max:9}},sizeOffset:!0}}},pauseOnBlur:!0,pauseOnOutsideViewport:!0,zLayers:100,motion:{disable:!1,reduce:{factor:4,value:!0}}};await tsParticles.load({id:"tsparticles",options:e}).catch((e=>{console.error(e)}))}(),t.style.opacity="100%",o.classList.remove("nav-with-content"),n.style.display="none"):"faqPage"===e?(document.querySelectorAll(".accordion-button").forEach((e=>{e.removeEventListener("click",a)})),document.querySelectorAll(".accordion-button").forEach((e=>{e.addEventListener("click",a)})),t.style.opacity="0",n.style.display="flex",o.classList.add("nav-with-content")):(t.style.opacity="0",n.style.display="flex",o.classList.add("nav-with-content"))}(e),m(),function(){const e=document.querySelector(".toc");e&&(e.innerHTML="",document.querySelectorAll(".toc-place").forEach(((t,n)=>{const o="toc-place-"+n;t.setAttribute("id",o);const a=document.createElement("button");a.className="toc-button",a.dataset.target=`#${o}`,a.textContent=t.dataset.name,e.appendChild(a)})),document.querySelectorAll(".toc-button").forEach((e=>{e.addEventListener("click",(function(){const e=document.querySelector(this.dataset.target),t=document.querySelector("nav").offsetHeight+10,n=e.getBoundingClientRect().top+window.scrollY-t;window.scrollTo({top:n,behavior:"smooth"})}))})))}(),document.removeEventListener("click",n),document.addEventListener("click",n),document.removeEventListener("click",o),document.addEventListener("click",o),h(i),function(e){if(null!==e)setTimeout((()=>{const t=document.getElementById(e);if(t){t.scrollIntoView({behavior:"smooth",block:"center"});new IntersectionObserver(((e,n)=>{e.forEach((e=>{e.isIntersecting&&(t.classList.add("quick-flash"),n.disconnect(),setTimeout((()=>{t.classList.remove("quick-flash")}),900))}))}),{threshold:1}).observe(t)}}),100);else if(null===e);}(t)})).catch((()=>{console.error(`Failed to load ${s}.`)}))}(e,s)}!function(){const e=window.location.hash.substring(1);y(e||"homePage")}(),document.addEventListener("DOMContentLoaded",(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/DtgA-Redone/service-worker.js",{scope:"/DtgA-Redone/"}).then((e=>{})).catch((e=>{console.error("Service worker registration failed:",e)})),document.addEventListener("click",(e=>{if(e.target.classList.contains("pageNav")){const t=e.target.getAttribute("data-href"),n=window.location.hash.substring(1),o=document.getElementById("popoverElement");let a=null;if(t.startsWith("#")){if(t===`#${n}`)return;const s=t.substring(1);e.target.getAttribute("data-itemID")&&(a=e.target.getAttribute("data-itemID")),history.pushState({pageId:s},"",t),o&&(o.style.display="none",o.classList.remove("show"),o.classList.add("hide"),u=!1),y(s,a)}else window.open(t,"_blank","noopener,noreferrer")}})),document.addEventListener("touchend",(e=>{if("BUTTON"===e.target.tagName){!function(e){if(e.classList.contains("accordion-button")){const t=e.querySelector("h2");t&&(t.classList.add("button-tapped"),setTimeout((()=>{t.classList.remove("button-tapped")}),125))}else e.classList.add("button-tapped"),setTimeout((()=>{e.classList.remove("button-tapped")}),125)}(e.target)}})),function(){const e=document.getElementById("picker");for(;e.firstChild;)e.removeChild(e.firstChild);const t=localStorage.getItem("color-primary-rgb-values"),n=t?`rgb(${t})`:null,o=new iro.ColorPicker("#picker",{width:300,color:n||"rgb(133, 255, 225)",wheelLightness:!0,borderWidth:2,borderColor:"rgb(255, 255, 255)"}),a=document.getElementById("color-picker-btn"),s=document.getElementById("color-picker-modal");function r(){s.removeAttribute("style")}a.addEventListener("click",(()=>{s.style.right="10px"})),document.addEventListener("click",(e=>{s.contains(e.target)||e.target===a||r();const t=document.getElementById("modal-close-button"),n=document.getElementById("reset-button");t&&t.contains(e.target)&&r(),n&&n.contains(e.target)&&(localStorage.setItem("color-primary-rgb-values","133, 255, 225"),document.documentElement.style.setProperty("--color-primary-rgb-values","133, 255, 225"),r())})),o.on("color:change",(function(e){const{r:t,g:n,b:o}=e.rgb,a=`${t}, ${n}, ${o}`;document.documentElement.style.setProperty("--color-primary-rgb-values",a),localStorage.setItem("color-primary-rgb-values",a)}))}(),function(){const n=document.getElementById("wiki-list-dropdown"),o=document.querySelector(".nav-dropdown");n&&o&&n.addEventListener("click",(function(){const a=n.getAttribute("aria-expanded");"false"===a?(n.setAttribute("aria-expanded","true"),o.setAttribute("aria-expanded","true"),e(o)):"true"===a&&(n.setAttribute("aria-expanded","false"),o.setAttribute("aria-expanded","false"),t(o))}));const a=document.querySelector(".nav-toggle"),s=document.querySelector(".nav-list");a&&s&&a.addEventListener("click",(function(){const n=a.getAttribute("aria-expanded");"false"===n?(s.setAttribute("aria-expanded","true"),e(s)):"true"===n&&(s.setAttribute("aria-expanded","false"),t(s))}));const r=document.querySelector("nav"),i=document.querySelector(".content-section");if(r&&i){const e=r.offsetHeight+25;i.style.paddingTop=e+"px"}}(),window.onpopstate=e=>{e.state&&e.state.pageId?y(e.state.pageId):y("homePage")}}))})();